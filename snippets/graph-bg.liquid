<div>
    {% for block in section.blocks %}
    <p x-cloak x-show="tab == {{ forloop.index }}" class="text-sm md:text-base text-primary-blue mb-2">{{ block.settings.image_text }}</p>
    {% endfor %}
</div>
<div class="js-init relative w-fit-content" data-section-name="graph">
    {% for block in section.blocks %}

    {% assign x_offset = block.settings.x1_1 | divided_by: 1.25 %}
    <div 
    x-cloak
    x-show="tab == {{ forloop.index }}"
    data-end-percent="{{ block.settings.x2_1 }}"
    style="
        top: {{80 | minus: x_offset}}%;
        left: 0%;
        background-color: {{ block.settings.color_1 }};"
        class="absolute top-0 left-0 text-white rounded-lg text-xs px-2 main-percent transform translate-x">
        <p><span class="main-percent-text">{{ block.settings.x1_1 }}</span>%</p>
    </div>

    {% assign x_offset_2 = block.settings.x1_2 | divided_by: 1.25 %}
    <div 
    x-cloak
    x-show="tab == {{ forloop.index }}"
    data-end-percent="{{ block.settings.x2_2 }}"
    style="
        top: {{80 | minus: x_offset_2}}%;
        left: 0%;
        background-color: {{ block.settings.color_2 }};" 
        class="absolute top-0 left-0 text-white rounded-lg text-xs px-2 second-percent">
        <p><span class="second-percent-text">{{ block.settings.x1_2 }}</span>%</p>
    </div>

    {% endfor %}

    <svg preserveAspectRatio="xMidYMid meet" class="max-w-full" width="426" viewBox="0 0 426 246" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.85355 0.797554C4.65829 0.602292 4.34171 0.602292 4.14645 0.797554L0.964466 3.97953C0.769204 4.1748 0.769204 4.49138 0.964466 4.68664C1.15973 4.8819 1.47631 4.8819 1.67157 4.68664L4.5 1.85821L7.32843 4.68664C7.52369 4.8819 7.84027 4.8819 8.03553 4.68664C8.2308 4.49138 8.2308 4.1748 8.03553 3.97954L4.85355 0.797554ZM4 1.15111L3.99999 209.101L4.99999 209.101L5 1.15111L4 1.15111Z" fill="#122556"/>
        <path d="M408.354 209.454C408.549 209.259 408.549 208.942 408.354 208.747L405.172 205.565C404.976 205.37 404.66 205.37 404.464 205.565C404.269 205.76 404.269 206.077 404.464 206.272L407.293 209.101L404.464 211.929C404.269 212.124 404.269 212.441 404.464 212.636C404.66 212.832 404.976 212.832 405.172 212.636L408.354 209.454ZM408 208.601L4 208.601V209.601L408 209.601V208.601Z" fill="#122556"/>
        {% comment %}
            Graph lines
        {% endcomment %}
        {% for block in section.blocks %}
        {% assign x_offset_line_start = 100 | minus: block.settings.x1_1 %}
        {% assign x_offset_line_2_start = 100 | minus: block.settings.x1_2 %}

        {% assign x_offset_line_end = 100 | minus: block.settings.x2_1 %}
        {% assign x_offset_line_2_end = 100 | minus: block.settings.x2_2 %}

        {% assign x_offset_line = 100 | minus: block.settings.x2_1 %}
        <line x-cloak x-show="tab == {{ forloop.index }}" x1="20" y1="{{ x_offset_line_start | times: 1.97 }}" stroke-linecap="round" stroke-width="3" x2="395" y2="{{ x_offset_line_end | times: 1.97 }}" stroke="{{ block.settings.color_1 }}"/>
        <line x-cloak x-show="tab == {{ forloop.index }}" x1="20" y1="{{ x_offset_line_2_start | times: 1.97 }}" stroke-linecap="round" stroke-width="3" x2="395" y2="{{ x_offset_line_2_end | times: 1.97 }}" stroke="{{ block.settings.color_2 }}"/>
        {% endfor %}

        <rect x="20" width="400" class="line-cover" height="198" style="fill:#f7f2ec; transform-origin: 100% 100%;" />

        <line x1="5" y1="51.3705" x2="12" y2="51.3705" stroke="#122556"/>
        <line x1="5" y1="105.133" x2="12" y2="105.133" stroke="#122556"/>
        <line x1="5" y1="157.881" x2="12" y2="157.881" stroke="#122556"/>
        <line x1="73.5" y1="200.986" x2="73.5" y2="208.086" stroke="#122556"/>
        <line x1="141.5" y1="200.986" x2="141.5" y2="208.086" stroke="#122556"/>
        <line x1="209.5" y1="200.986" x2="209.5" y2="208.086" stroke="#122556"/>
        <line x1="277.5" y1="200.986" x2="277.5" y2="208.086" stroke="#122556"/>
        <line x1="345.5" y1="200.986" x2="345.5" y2="208.086" stroke="#122556"/>
        <path d="M5.088 231.963C5.088 234.971 5.856 237.419 8.88 237.419C11.888 237.419 12.656 234.971 12.656 231.963C12.656 228.955 11.888 226.491 8.88 226.491C5.856 226.491 5.088 228.955 5.088 231.963ZM6.144 231.963C6.144 229.515 6.688 227.547 8.88 227.547C11.056 227.547 11.6 229.515 11.6 231.963C11.6 234.395 11.056 236.363 8.88 236.363C6.688 236.363 6.144 234.395 6.144 231.963Z" fill="#122556"/>
        <path d="M388.144 228.507C388.512 227.883 389.328 227.499 390.224 227.547C391.504 227.627 392.112 228.379 392.064 229.339C392.016 230.315 391.184 231.067 390.112 231.067H389.088V232.075H390.112C391.44 232.075 392.544 233.115 392.496 234.315C392.416 235.531 391.184 236.427 389.824 236.347H389.84C388.832 236.267 388.032 235.723 387.712 235.003L386.752 235.435C387.248 236.523 388.368 237.291 389.76 237.403C391.696 237.531 393.392 236.235 393.568 234.475C393.648 233.259 392.88 231.835 391.632 231.531C392.48 231.163 393.072 230.347 393.136 229.499C393.296 227.995 392.288 226.603 390.288 226.475C389.008 226.395 387.856 227.003 387.296 227.979L388.144 228.507ZM395.651 231.963C395.651 234.971 396.419 237.419 399.443 237.419C402.451 237.419 403.219 234.971 403.219 231.963C403.219 228.955 402.451 226.491 399.443 226.491C396.419 226.491 395.651 228.955 395.651 231.963ZM396.707 231.963C396.707 229.515 397.251 227.547 399.443 227.547C401.619 227.547 402.163 229.515 402.163 231.963C402.163 234.395 401.619 236.363 399.443 236.363C397.251 236.363 396.707 234.395 396.707 231.963ZM405.416 231.963C405.416 234.971 406.184 237.419 409.208 237.419C412.216 237.419 412.984 234.971 412.984 231.963C412.984 228.955 412.216 226.491 409.208 226.491C406.184 226.491 405.416 228.955 405.416 231.963ZM406.472 231.963C406.472 229.515 407.016 227.547 409.208 227.547C411.384 227.547 411.928 229.515 411.928 231.963C411.928 234.395 411.384 236.363 409.208 236.363C407.016 236.363 406.472 234.395 406.472 231.963Z" fill="#122556"/>
        </svg>
</div>
<div class="flex my-2">
    {% for block in section.blocks %}
    <div x-cloak x-show="tab == {{ forloop.index }}" class="flex">
        <div class="flex items-center">
            <div style="background-color: {{ block.settings.color_1 }};" class="rounded-lg h-2 w-6 mr-2"></div>
            <p class="text-sm md:text-base text-primary-blue">{{ block.settings.name_1 }}</p>
        </div>
        <div class="flex items-center ml-7 md:ml-9">
            <div style="background-color: {{ block.settings.color_2 }};" class="rounded-lg h-2 w-6 mr-2"></div>
            <p class="text-sm md:text-base text-primary-blue">{{ block.settings.name_2 }}</p>
        </div>
    </div>
    {% endfor %}
</div>